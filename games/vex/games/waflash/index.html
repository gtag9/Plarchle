<!doctype html>
<html lang="en">
<html>
<head>
<title>Let's Emulate it!</title>
<link rel="stylesheet" href="style.css">
<script type="text/javascript">
		var urlParams = new URLSearchParams(window.location.search);
		var swfName = '/games/vex/games/' + urlParams.get("swf");
		var gameName = urlParams.get('name');
		if (!swfName) {swfName = "swf/papaswingeria.swf";}
		var swfURLObj = new URL(swfName, window.location.href);
		var gameConfig = {
			swfUrl: swfURLObj.toString()
		}
		if (!gameName) {
			gameName = 'Your game is loading...';
		}
		document.title = gameName;
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-N2N7GHC0PR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-N2N7GHC0PR');
</script>
</head>
<body>
<div id="waflashContainer">
<canvas class="waflashCanvas" id="canvas" tabindex="1"></canvas>
<div id="waflashStatus" style="display: none;">Playing...</div>
<script>
		var ua = navigator.userAgent.toLowerCase();
		if ( (navigator.appName == 'Netscape' && ua.indexOf('trident') != -1) || (ua.indexOf("msie") != -1)) {
    		var waf = document.getElementById('waflashStatus');
			waf.style.display = 'block';
			waf.innerText = 'Not working. Please use Chrome or Firefox.';
		}
	</script>
<script type="module" crossorigin="anonymous">
		let is_mobile = /Mobi/i.test(window.navigator.userAgent);
		if (is_mobile) {
			function scrollToSubject() {
				try {
					window.scrollTo({
						top: 100,
						left: 0,
						behavior: 'smooth'
					});
				} catch (e) {}
			}
			scrollToSubject();
			window.addEventListener("orientationchange", function() {
				setTimeout(scrollToSubject, 100);
			});
		} else {
			document.getElementById('canvas').focus();
		}
		document.getElementById('canvas').addEventListener("keydown", function(ev) {
			ev.preventDefault();
			ev.stopPropagation();
		});
		document.getElementById('canvas').addEventListener("click", function() {
			document.getElementById('canvas').focus();
		});
		document.addEventListener("mousedown", (function() {
			const canvasElement = document.getElementById('canvas');
			let focused = false;
			return function(ev) {
				if (ev.target == canvasElement) {
					if (!focused) {
						canvasElement.focus();
						focused = true;
					}
				} else {
					if (focused) {
						focused = false;
					}
				}
				return true;
			}
		})());
		import {
			createWaflash
		} from './waflash/v2/waflash-player.min.js';
		createWaflash(gameConfig.swfUrl, window.wafOptions || {});
	</script>
<!doctype html>
<html lang="en">
<head>
<title>Helper</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://www.getgames.io/emulators/helper.css?v=23.03.24.15">
</head>
<body id="hiddenBody">
<div id="buttonMenu" class="menuButton draggable rise-shake" onclick="showHiddenMenu()">
<img src="https://www.getgames.io/emulators/assets/menu.png" alt width="36" height="36">
</div>
<div id="hiddenMenuBody">
<div id="hiddenMenu">
<div class="hiddenButtons">
<button id="button_fullscreen" class="hiddenButton">Fullscreen</button>
<button id="button_refresh" class="hiddenButton">Refresh</button>
<a href="https://www.getgames.io" target="_blank" id="buttonMoreGames" class="hiddenButton">Play More Awesome Games</a>
<button id="button_close"><img src="https://www.getgames.io/emulators/assets/close.png" alt width="48" height="48"></button>
</div>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
<script src="https://www.getgames.io/emulators/helper.js?v=23.03.24.15"></script>
<script>
    var button_more_games, newLink, domainRef;
    button_more_games = document.getElementById("buttonMoreGames");
    newLink = "https://www.getgames.io/?utm_source="+document.referrer;
    var button_more_games, newLink;
    button_more_games = document.getElementById("buttonMoreGames");
    // console.log(document.referrer)
    if(document.referrer !== ""){
      domainRef = document.referrer.match(/:\/\/(.[^/]+)/)[1];
      newLink = "https://www.getgames.io/?utm_medium=MoreGamesButton&utm_source="+domainRef;
    }else{
      newLink = "https://www.getgames.io/?utm_medium=MoreGamesButton&utm_source=games";
    }
    button_more_games.href = newLink;
  </script>
</body>
</html>
</div>
</body>
</html>
